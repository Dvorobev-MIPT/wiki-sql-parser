# wiki-sql-parser

## Запуск

### Создание/обновление БД
Для начала надо создать базу данных: CREATE DATABASE phystech_wiki;

Далее необходимо настроить параметры БД в парсере. Для этого заполните поля в строках 11-15 /wiki-sql-parser/main.py.

### Запуск

Остается лишь запустить main.py и дождаться завершения работы программы.

## Функционал

Эта программа парсит данные wiki-mipt в PSQL, которая используется в другом моем проекте https://github.com/Dvorobev-MIPT/tg_bot - в телеграмм боте, который берет данные из PSQL.

В результате парсинга получется БД, представленная на схеме ниже:

![alt text](https://github.com/Dvorobev-MIPT/wiki-sql-parser/blob/main/Example.jpg)


Заметим, что на данный момент в другом моем проекте она использует не весь свой функционал.

## Возможные проблемы

Поскольку парсятся в том числе и динамически загружаемые данные, то возможно, что задержки для полной загрузки страницы установленной для моей системы окажется мало, поэтому вы можете увеличить ее, но учитывайте, что парсится порядка 2000 страниц.

Для этого измените значения переменных времени в строках 17, 18 /wiki-sql-parser/main.py. Они указаны в секундах.


## Время работы

С текущими задержами процесс парсинга занимает порядка 40 минут: по 2 минуты на парсинг кафедр и предметов и не более 40 минут на парсинг преподавателей.

Для отслеживания прогресса парсинга был встрое progress bar.
